<nav class="docs-nav">
        <ul>
            <li class="docs-nav__section is-expanded">
                <a class="docs-nav__title is-active" href="/docs/snaps" id="Snaps">Snaps</a>
                <ul class="docs-nav__children">
                    <li class="docs-nav__item"><a class="docs-nav__link" href="/docs/snaps/intro" class="is-active" id="What-is-a-snap?">What is a snap?</a></li>
                    <li class="docs-nav__item"><a class="docs-nav__link" href="/docs/snaps/structure" id="Snaps-directory-structure">Snaps directory structure</a></li>
                    <li class="docs-nav__item"><a class="docs-nav__link" href="/docs/snaps/metadata" id="Metadata-YAML-file">Metadata YAML file</a></li>
                </ul>
            </li>
            <li class="docs-nav__section is-collapsed">
                <a class="docs-nav__title" href="/docs/core" id="Core">Core</a>
                <ul class="docs-nav__children">
                    <li class="docs-nav__item"><a class="docs-nav__link" href="/docs/core/install" id="Install">Install</a></li>
                    <li class="docs-nav__item"><a class="docs-nav__link" href="/docs/core/usage" id="Usage">Usage</a></li>
                    <li class="docs-nav__item"><a class="docs-nav__link" href="/docs/core/store" id="Snap-stores">Snap stores</a></li>
                    <li class="docs-nav__item"><a class="docs-nav__link" href="/docs/core/snapd" id="The-snapd-system">The snapd system</a></li>
                    <!--          <li class="docs-nav__item"><a class="docs-nav__link" href="/docs/core/core-classic">Core &amp; Classic</a></li>-->
                    <!--          <li class="docs-nav__item"><a class="docs-nav__link" href="/docs/core/snaps">The kinds of snaps</a></li>-->
                    <li class="docs-nav__item"><a class="docs-nav__link" href="/docs/core/interfaces" id="Interfaces-(plugs-and-slots)">Interfaces (plugs and slots)</a></li>
                    <li class="docs-nav__item"><a class="docs-nav__link" href="/docs/core/updates" id="Transactional-updates">Transactional updates</a></li>
                    <li class="docs-nav__item"><a class="docs-nav__link" href="/docs/core/versions" id="Mutiple-snaps-versions-&amp;-garbage-collection">Mutiple snaps versions &amp; garbage collection</a></li>
                </ul>
            </li>
            <li class="docs-nav__section is-collapsed">
              <a class="docs-nav__title" href="/docs/build-snaps" id="Build-snaps">Build snaps</a>
              <ul class="docs-nav__children">
                  <li class="docs-nav__item"><a class="docs-nav__link" href="/docs/build-snaps/your-first-snap" id="Your-first-snap">Your first snap</a></li>
                  <li class="docs-nav__item"><a class="docs-nav__link" href="/docs/build-snaps/syntax" id="Snapcraft-syntax">Snapcraft syntax</a></li>
                  <li class="docs-nav__item"><a class="docs-nav__link" href="/docs/build-snaps/parts" id="Parts">Parts</a></li>
                  <li class="docs-nav__item"><a class="docs-nav__link" href="/docs/build-snaps/plugins" id="Plugins">Plugins</a></li>
                  <li class="docs-nav__item"><a class="docs-nav__link" href="/docs/build-snaps/metadata" id="Commands,-daemons
            and-assets">Commands, daemons<br>and assets</a></li>
                  <li class="docs-nav__item"><a class="docs-nav__link" href="/docs/build-snaps/debugging" id="Debugging">Debugging</a></li>
                  <li class="docs-nav__item"><a class="docs-nav__link" href="/docs/build-snaps/publish" id="Publish-your-snap">Publish your snap</a></li>
                  <li class="docs-nav__item"><a class="docs-nav__link" href="/docs/build-snaps/advanced-features" id="Advanced-features">Advanced features</a></li>
              </ul>
            </li>
            <li class="docs-nav__section is-collapsed">
              <a class="docs-nav__title" href="/docs/reference" id="Reference">Reference</a>
              <ul>
                  <li class="docs-nav__item"><a class="docs-nav__link" href="/docs/reference/snapcraft" id="Snapcraft">Snapcraft</a></li>
                  <li class="docs-nav__item"><a class="docs-nav__link" href="/docs/reference/plugins" id="Plugins">Plugins</a></li>
                  <li class="docs-nav__item"><a class="docs-nav__link" href="/docs/reference/interfaces" id="Interfaces">Interfaces</a></li>
              </ul>
            </li>
        </ul>


                        <script>
                            function expandCollapse(clickEvent) {
                                var item = clickEvent.target;
                                var link = item.querySelector('[href]');
                                var linkWidth = link.offsetWidth;
                                var clickOffset = clickEvent.offsetX;

                                if (clickOffset > linkWidth) {
                                    is-collapsed = ! item.classList.toggle('expanded');
                                    item.classList.toggle('is-collapsed', is-collapsed);
                                }
                            }

                            var items = document.querySelectorAll('.documentation__nav ul li');

                            for(var num = 0; num < items.length; num++) {
                                var item = items[num];
                                var link = item.querySelector('[href]');

                                if (! link) {continue;}

                                // Get paths, removing leading and trailing slashes for consistency
                                linkPath = link.pathname.replace(/(^\/|\/$)/g, "");
                                currentPath = location.pathname.replace(/(^\/|\/$)/g, "");

                                // Make current navigation item appear active
                                // @TODO: Replace this with a static JS-less solution
                                //        once we have a more intelligent
                                //        docs navigation mechanism.
                                if (linkPath == currentPath) {
                                    link.classList.add('active');
                                }

                                // For lists with child lists, add expand/collapse functionality
                                if (item.querySelector('ul')) {
                                    if (currentPath.startsWith(linkPath)) {
                                        item.classList.add('expanded');
                                    } else {
                                        item.classList.add('collapsed');
                                    }

                                    item.addEventListener('click', expandCollapse);
                                }
                            }
                        </script>
                    </nav>
